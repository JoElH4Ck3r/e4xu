<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
<head>
	<title>Reflection example</title>
</head>
<script type="text/javascript">
	<!--// 
		function Foo(arg)
		{
			this.prop = arg;
		}
		Foo.prototype.someMethod = function() { return "[object " + this.prop + "]"; }
		Foo.prototype.doSomething = function() { alert(this.someMethod()); }
		var descriptor = "function Bar(arg){this.prop = arg;};Bar.prototype=Foo.prototype;";
		function createFromDescriptor(str)
		{
			eval(str);
			var className = str.match(/^function\s*(\w+)/)[1];
			var func = eval(className);
			return new func(className);
		}
		function testReflection()
		{
			var bar = createFromDescriptor(descriptor);
			bar.doSomething();
		}
	//-->
</script>
<body onload="testReflection()">
</body>
</html>